<!DOCTYPE html>
<html>
  
<head>
  <meta charset="utf-8">
  <meta name="author" content="GaryMarine" />
  
  
  <title>xpath | GaryMarine</title>

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
    <meta name="keywords" content="Python,爬虫,xpath," />
  

  
  <meta name="description" content="GaryMarine Website">

  

  <script src="//cdn.jsdelivr.net/npm/leancloud-storage@3.11.1/dist/av-min.js" async></script>

  
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script>
  

  
    <script src="//unpkg.com/valine/dist/Valine.min.js" async></script>
  

  <script>
  // theme-ad's config script
  // it can be used in every script
  
  window.AD_CONFIG = {
    leancloud: {"appid":"Hyq9wkH495DgNHWhDQCOfQSp-gzGzoHsz","appkey":"WaR7nrzhliHj9aVwdQzkdlGd","comment":true,"count":true},
    welcome: {"enable":true,"interval":"wfw"},
    start_time: "2018-02-10",
    passwords: ["9fd4703ff67642ec7fc0f8616d7513e620263fa6f3758b5836f496dfe334ae34", ],
    is_post: true,
    lock: false,
    author: "GaryMarine",
    share: {"twitter":true,"facebook":true,"weibo":true,"qq":true,"wechat":true},
    mathjax: true
  };
</script>

  <script src="/vendor/sha256.min.js"></script>
<script src="/js/auth.js"></script>
<script src="/js/index.js"></script>
<script src="/vendor/qrcode.min.js"></script>

  
    <link rel="icon" href="/images/favicon.ico">
    <link rel="apple-touch-icon" href="/images/touch-icon.png">
  

  <link href="//netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

  <link rel="stylesheet" href="/css/index.css">
<link rel="stylesheet" href="/styles/components/highlight/highlight.css">

  

  



</head>
  <body>
    <header class="site-header">
  <div class="site-header-brand">
    
      <span class="site-header-brand-title">
        <a href="/">GaryMarine</a>
      </span>
    
    
      <span class="site-header-brand-motto"> | 晚来天欲雪，能饮一杯无？</span>
    
  </div>
  <div class="site-header-right">
    <nav class="site-header-navigation">
      
        <a href="/" target="_self">首页</a>
      
        <a href="/archives/" target="_self">归档</a>
      
        <a href="/tags/" target="_self">标签</a>
      
        <a href="/categories/" target="_self">分类</a>
      
        <a href="/friends/" target="_self">友链</a>
      
        <a href="/about/" target="_self">关于</a>
      
    </nav>
    <div class="site-header-btn">
      
        <a href="https://github.com/GaryMarine/" target="_blank">
          <i class="fa fa-github-alt"></i>
        </a>
      
      <a href="javascript:void(0);" id="site-search">
        <i class="fa fa-search"></i>
      </a>
    </div>
  </div>
</header>
<div id="site-process"></div>
    <main>
      
  <div class="passage">
  <div class="passage-meta">
    <span>
      <i class="fa fa-calendar"></i>2017-06-27
    </span>
    
      <span>
        | <a href="/categories/Python/"><i class="fa fa-bookmark"></i>Python</a>
      </span>
    
    
      <span>
        | <i class="fa fa-unlock-alt"></i>UNLOCK
      </span>
    
  </div>
  <h1 class="passage-title">
    xpath
  </h1>
  
  <article class="passage-article">
    <h1 id="XPath"><a href="#XPath" class="headerlink" title="XPath"></a>XPath</h1><p>XPath即为XML路径语言，它是一种用来确定XML（标准通用标记语言的子集）文档中某部分位置的语言。XPath基于XML的树状结构，有不同类型的节点，包括元素节点，属性节点和文本节点，提供在数据结构树中找寻节点的能力。</p>
<h1 id="什么是-XPath"><a href="#什么是-XPath" class="headerlink" title="什么是 XPath?"></a>什么是 XPath?</h1><ul>
<li>XPath 使用路径表达式在 XML 文档中进行导航</li>
<li>XPath 包含一个标准函数库</li>
<li>XPath 是 XSLT 中的主要元素</li>
<li>XPath 是一个 W3C 标准</li>
</ul>
<h1 id="使用xpath"><a href="#使用xpath" class="headerlink" title="使用xpath"></a>使用xpath</h1><p>安装：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install xpath</span><br></pre></td></tr></table></figure>
<p>导入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> lxml</span><br><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br></pre></td></tr></table></figure>
<h1 id="XPath-Helper插件"><a href="#XPath-Helper插件" class="headerlink" title="XPath Helper插件"></a>XPath Helper插件</h1><p>chrome插件网：<a href="http://www.cnplugins.com/" target="_blank" rel="noopener">http://www.cnplugins.com/</a></p>
<p>添加插件</p>
<p>Ctrl + Shift + X打开或关闭插件</p>
<h1 id="XPath-术语"><a href="#XPath-术语" class="headerlink" title="XPath 术语"></a>XPath 术语</h1><h2 id="节点（Node）"><a href="#节点（Node）" class="headerlink" title="节点（Node）"></a>节点（Node）</h2><p>在 XPath 中，有七种类型的节点：元素、属性、文本、命名空间、处理指令、注释以及文档（根）节点。XML 文档是被作为节点树来对待的。树的根被称为文档节点或者根节点。</p>
<p>请看下面这个 XML 文档：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="ISO-8859-1"?&gt;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bookstore</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">book</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span>Harry Potter<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">author</span>&gt;</span>J K. Rowling<span class="tag">&lt;/<span class="name">author</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">year</span>&gt;</span>2005<span class="tag">&lt;/<span class="name">year</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">price</span>&gt;</span>29.99<span class="tag">&lt;/<span class="name">price</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">book</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">bookstore</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="基本值（或称原子值，Atomic-value）"><a href="#基本值（或称原子值，Atomic-value）" class="headerlink" title="基本值（或称原子值，Atomic value）"></a>基本值（或称原子值，Atomic value）</h2><p>基本值是无父或无子的节点。</p>
<p>基本值的例子：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">J K. Rowling</span><br><span class="line"></span><br><span class="line"><span class="string">"en"</span></span><br></pre></td></tr></table></figure>
<h2 id="项目（Item）"><a href="#项目（Item）" class="headerlink" title="项目（Item）"></a>项目（Item）</h2><p>项目是基本值或者节点。</p>
<h2 id="节点关系"><a href="#节点关系" class="headerlink" title="节点关系"></a>节点关系</h2><h3 id="父（Parent）"><a href="#父（Parent）" class="headerlink" title="父（Parent）"></a>父（Parent）</h3><p>每个元素以及属性都有一个父。</p>
<h3 id="子（Children）"><a href="#子（Children）" class="headerlink" title="子（Children）"></a>子（Children）</h3><p>元素节点可有零个、一个或多个子。</p>
<h3 id="同胞（Sibling）"><a href="#同胞（Sibling）" class="headerlink" title="同胞（Sibling）"></a>同胞（Sibling）</h3><p>拥有相同的父的节点</p>
<h3 id="先辈（Ancestor）"><a href="#先辈（Ancestor）" class="headerlink" title="先辈（Ancestor）"></a>先辈（Ancestor）</h3><p>某节点的父、父的父，等等。</p>
<h3 id="后代（Descendant）"><a href="#后代（Descendant）" class="headerlink" title="后代（Descendant）"></a>后代（Descendant）</h3><p>某个节点的子，子的子，等等。</p>
<h1 id="XPath-语法"><a href="#XPath-语法" class="headerlink" title="XPath 语法"></a>XPath 语法</h1><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><br><span class="line"></span><br><span class="line">&lt;bookstore&gt;</span><br><span class="line"></span><br><span class="line">&lt;book&gt;</span><br><span class="line">  &lt;title lang="eng"&gt;Harry Potter&lt;/title&gt;</span><br><span class="line">  &lt;price&gt;29.99&lt;/price&gt;</span><br><span class="line">&lt;/book&gt;</span><br><span class="line"></span><br><span class="line">&lt;book&gt;</span><br><span class="line">  &lt;title lang="eng"&gt;Learning XML&lt;/title&gt;</span><br><span class="line">  &lt;price&gt;39.99&lt;/price&gt;</span><br><span class="line">&lt;/book&gt;</span><br><span class="line"></span><br><span class="line">&lt;/bookstore&gt;</span><br></pre></td></tr></table></figure>
<h2 id="选取节点"><a href="#选取节点" class="headerlink" title="选取节点"></a>选取节点</h2><p>XPath 使用路径表达式在 XML 文档中选取节点。节点是通过沿着路径或者 step 来选取的。 下面列出了最有用的路径表达式：</p>
<table>
<thead>
<tr>
<th>表达式</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>/</td>
<td>从根节点选取。</td>
</tr>
<tr>
<td>//</td>
<td>从匹配选择的当前节点选择文档中的节点，而不考虑它们的位置。</td>
</tr>
<tr>
<td>.</td>
<td>选取当前节点。</td>
</tr>
<tr>
<td>..</td>
<td>选取当前节点的父节点。</td>
</tr>
<tr>
<td>@</td>
<td>选取属性。</td>
</tr>
</tbody>
</table>
<p>在下面的表格中，我们已列出了一些路径表达式以及表达式的结果：</p>
<table>
<thead>
<tr>
<th>路径表达式</th>
<th>结果</th>
</tr>
</thead>
<tbody>
<tr>
<td>bookstore</td>
<td>选取 bookstore 元素的所有子节点。</td>
</tr>
<tr>
<td>/bookstore</td>
<td>选取根元素 bookstore。注释：假如路径起始于正斜杠( / )，则此路径始终代表到某元素的绝对路径！</td>
</tr>
<tr>
<td>/bookstore/book</td>
<td>选取属于 bookstore 的子元素的所有 book 元素。</td>
</tr>
<tr>
<td>//book</td>
<td>选取所有 book 子元素，而不管它们在文档中的位置。</td>
</tr>
<tr>
<td>bookstore//book</td>
<td>选择属于 bookstore 元素的后代的所有 book 元素，而不管它们位于 bookstore 之下的什么位置。</td>
</tr>
<tr>
<td>//@lang</td>
<td>选取名为 lang 的所有属性。</td>
</tr>
</tbody>
</table>
<h2 id="谓语（Predicates）"><a href="#谓语（Predicates）" class="headerlink" title="谓语（Predicates）"></a>谓语（Predicates）</h2><p>谓语用来查找某个特定的节点或者包含某个指定的值的节点。</p>
<p>谓语被嵌在方括号中。</p>
<p>在下面的表格中，我们列出了带有谓语的一些路径表达式，以及表达式的结果：</p>
<table>
<thead>
<tr>
<th>路径表达式</th>
<th>结果</th>
</tr>
</thead>
<tbody>
<tr>
<td>/bookstore/book[1]</td>
<td>选取属于 bookstore 子元素的第一个 book 元素。</td>
</tr>
<tr>
<td>/bookstore/book[last()]</td>
<td>选取属于 bookstore 子元素的最后一个 book 元素。</td>
</tr>
<tr>
<td>/bookstore/book[last()-1]</td>
<td>选取属于 bookstore 子元素的倒数第二个 book 元素。</td>
</tr>
<tr>
<td>/bookstore/book[position()&lt;3]</td>
<td>选取最前面的两个属于 bookstore 元素的子元素的 book 元素。</td>
</tr>
<tr>
<td>//title[@lang]</td>
<td>选取所有拥有名为 lang 的属性的 title 元素。</td>
</tr>
<tr>
<td>//title[@lang=’eng’]</td>
<td>选取所有 title 元素，且这些元素拥有值为 eng 的 lang 属性。</td>
</tr>
<tr>
<td>/bookstore/book[price&gt;35.00]</td>
<td>选取 bookstore 元素的所有 book 元素，且其中的 price 元素的值须大于 35.00。</td>
</tr>
<tr>
<td>/bookstore/book[price&gt;35.00]/title</td>
<td>选取 bookstore 元素中的 book 元素的所有 title 元素，且其中的 price 元素的值须大于 35.00。</td>
</tr>
</tbody>
</table>
<h2 id="选取未知节点"><a href="#选取未知节点" class="headerlink" title="选取未知节点"></a>选取未知节点</h2><p>XPath 通配符可用来选取未知的 XML 元素。</p>
<table>
<thead>
<tr>
<th>通配符</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>*</td>
<td>匹配任何元素节点。</td>
</tr>
<tr>
<td>@*</td>
<td>匹配任何属性节点。</td>
</tr>
<tr>
<td>node()</td>
<td>匹配任何类型的节点。</td>
</tr>
</tbody>
</table>
<p>在下面的表格中，我们列出了一些路径表达式，以及这些表达式的结果：</p>
<table>
<thead>
<tr>
<th>路径表达式</th>
<th>结果</th>
</tr>
</thead>
<tbody>
<tr>
<td>/bookstore/*</td>
<td>选取 bookstore 元素的所有子元素。</td>
</tr>
<tr>
<td>//*</td>
<td>选取文档中的所有元素。</td>
</tr>
<tr>
<td>//title[@*]</td>
<td>选取所有带有属性的 title 元素。</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="选取若干路径"><a href="#选取若干路径" class="headerlink" title="选取若干路径"></a>选取若干路径</h2><p>通过在路径表达式中使用”|”运算符，您可以选取若干个路径。</p>
<p>在下面的表格中，我们列出了一些路径表达式，以及这些表达式的结果：</p>
<table>
<thead>
<tr>
<th>路径表达式</th>
<th>结果</th>
</tr>
</thead>
<tbody>
<tr>
<td>//book/title \</td>
<td>//book/price</td>
<td>选取 book 元素的所有 title 和 price 元素。</td>
</tr>
<tr>
<td>//title \</td>
<td>//price</td>
<td>选取文档中的所有 title 和 price 元素。</td>
</tr>
<tr>
<td>/bookstore/book/title \</td>
<td>//price</td>
<td>选取属于 bookstore 元素的 book 元素的所有 title 元素，以及文档中所有的 price 元素。</td>
</tr>
</tbody>
</table>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">htmlFile = <span class="string">'''</span></span><br><span class="line"><span class="string">    &lt;ul&gt;</span></span><br><span class="line"><span class="string">        &lt;li class="item-0"&gt;&lt;a href="link1.html"&gt;first item&lt;/a&gt;&lt;/li&gt;</span></span><br><span class="line"><span class="string">        &lt;li class="item-1"&gt;&lt;a href="link2.html"&gt;second item&lt;/a&gt;&lt;/li&gt;</span></span><br><span class="line"><span class="string">        &lt;li class="item-inactive"&gt;&lt;a href="link3.html"&gt;third item&lt;/a&gt;&lt;/li&gt;</span></span><br><span class="line"><span class="string">        &lt;li class="item-1"&gt;&lt;a href="link4.html"&gt;fourth item&lt;/a&gt;&lt;/li&gt;</span></span><br><span class="line"><span class="string">        &lt;li class="item-0"&gt;&lt;a href="link5.html"&gt;fifth item&lt;/a&gt; # 注意，此处缺少一个 &lt;/li&gt; 闭合标签</span></span><br><span class="line"><span class="string">    &lt;/ul&gt;</span></span><br><span class="line"><span class="string">    '''</span></span><br><span class="line">    </span><br><span class="line">html = lxml.etree.parse(<span class="string">"filename.html"</span>)  <span class="comment"># 读取文件</span></span><br><span class="line">html = lxml.etree.HTML(htmltext)  <span class="comment"># 直接加载</span></span><br><span class="line">	</span><br><span class="line">print(html.xpath(<span class="string">"//li/@class"</span>))  <span class="comment"># 取出li的所有节点class名称</span></span><br><span class="line">print(html.xpath(<span class="string">"//li/@text"</span>))  <span class="comment"># 为空，如果包含这个属性，</span></span><br><span class="line">print(html.xpath(<span class="string">"//li/a"</span>))  <span class="comment"># li下面5个节点，每个节点对应一个元素</span></span><br><span class="line">print(html.xpath(<span class="string">"//li/a/@href"</span>))  <span class="comment"># 取出li的所有节点 a内部href名称</span></span><br><span class="line">print(html.xpath(<span class="string">"//li/a/@href=\"link3.html\""</span>))  <span class="comment"># 判断是有一个节点==link3.html</span></span><br><span class="line">print(html.xpath(<span class="string">"//li//span"</span>))  <span class="comment"># 取出li下面所有的span</span></span><br><span class="line">print(html.xpath(<span class="string">"//li//span/@class"</span>))  <span class="comment"># 取出li下面所有的span内部的calss</span></span><br><span class="line">print(html.xpath(<span class="string">"//li/a//@class"</span>))  <span class="comment"># 取出li的所有节点内部节点a包含的class</span></span><br><span class="line">print(html.xpath(<span class="string">"//li"</span>))  <span class="comment"># 取出所有节点</span></span><br><span class="line">print(html.xpath(<span class="string">"//li[1]"</span>))  <span class="comment"># 取出第一个</span></span><br><span class="line">print(html.xpath(<span class="string">"//li[last()]"</span>))  <span class="comment"># 取出最后一个</span></span><br><span class="line">print(html.xpath(<span class="string">"//li[last()-1]"</span>))  <span class="comment"># 取出倒数第2个</span></span><br><span class="line">print(html.xpath(<span class="string">"//li[last()-1]/a/@href"</span>))  <span class="comment"># 取出倒数第2个的a下面的href</span></span><br><span class="line">print(html.xpath(<span class="string">"//*[@text=\"3\"]"</span>))  <span class="comment"># 选着text=3的元素</span></span><br><span class="line">print(html.xpath(<span class="string">"//*[@text=\"3\"]/@class"</span>))  <span class="comment"># 选着text=3的元素</span></span><br><span class="line">print(html.xpath(<span class="string">"//*[@class=\"nimei\"]"</span>))  <span class="comment"># 选着text=3的元素</span></span><br><span class="line">print(html.xpath(<span class="string">"//li/a/text()"</span>))  <span class="comment"># 取出&lt;&gt;</span></span><br><span class="line">print(html.xpath(<span class="string">"//li[3]/a/span/text()"</span>))  <span class="comment"># 取出内部&lt;&gt;数据</span></span><br></pre></td></tr></table></figure>
<ul>
<li><p>抓取51job全国岗位：<a href="https://jobs.51job.com/" target="_blank" rel="noopener">https://jobs.51job.com/</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> lxml</span><br><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">header = &#123;</span><br><span class="line">    <span class="string">"User-Agent"</span>: <span class="string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.181 Safari/537.36"</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getCityList</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">'''</span></span><br><span class="line"><span class="string">    获取全国城市</span></span><br><span class="line"><span class="string">    :param url:</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    '''</span></span><br><span class="line">    url = <span class="string">"https://jobs.51job.com/"</span></span><br><span class="line"></span><br><span class="line">    HTML = requests.get(url, headers=header).content.decode(<span class="string">'GB18030'</span>)  <span class="comment"># gb2312 简体 gbk包含了繁体</span></span><br><span class="line"></span><br><span class="line">    myTree = lxml.etree.HTML(HTML)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># /html/body/div[maincenter]/div[2]/div[2]/div[1]/a[1]</span></span><br><span class="line">    cityList = myTree.xpath(<span class="string">"//div[@class=\"maincenter\"]/div[2]/div[2]/div/a"</span>)  <span class="comment"># 城市列表</span></span><br><span class="line">    <span class="keyword">for</span> city <span class="keyword">in</span> cityList:</span><br><span class="line">        cityName = city.xpath(<span class="string">"./text()"</span>)[<span class="number">0</span>]</span><br><span class="line">        cityUrl = city.xpath(<span class="string">"./@href"</span>)[<span class="number">0</span>]</span><br><span class="line">        print(cityName, cityUrl)</span><br><span class="line">        <span class="comment"># 获取页数</span></span><br><span class="line">        getPage(cityUrl)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getJobInfo</span><span class="params">(url)</span>:</span></span><br><span class="line">    <span class="string">'''</span></span><br><span class="line"><span class="string">    获取岗位信息</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    '''</span></span><br><span class="line">    <span class="comment"># url = "https://jobs.51job.com/beijing/"</span></span><br><span class="line">    response = requests.get(url, headers=header).content.decode(<span class="string">'GB18030'</span>)</span><br><span class="line">    myTree = lxml.etree.HTML(response)</span><br><span class="line">    jobList = myTree.xpath(<span class="string">"//div[@class=\"detlist gbox\"]//div"</span>)  <span class="comment"># 获取岗位列表</span></span><br><span class="line">    <span class="comment"># 如果为空不抓取</span></span><br><span class="line">    <span class="keyword">if</span> len(jobList) != <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">for</span> job <span class="keyword">in</span> jobList:</span><br><span class="line">            <span class="comment"># 岗位名</span></span><br><span class="line">            jobName = job.xpath(<span class="string">"./p/span/a/text()"</span>)[<span class="number">0</span>].replace(<span class="string">"\r\n"</span>, <span class="string">''</span>).replace(<span class="string">"\t"</span>, <span class="string">''</span>)</span><br><span class="line">            <span class="comment"># 岗位链接</span></span><br><span class="line">            jobUrl = job.xpath(<span class="string">"./p/span/a/@href"</span>)[<span class="number">0</span>]</span><br><span class="line">            <span class="comment"># 工作地点</span></span><br><span class="line">            jobAddr = job.xpath(<span class="string">"./p/span[2]/text()"</span>)[<span class="number">0</span>]</span><br><span class="line">            <span class="comment"># 薪资</span></span><br><span class="line">            jobMoney = job.xpath(<span class="string">"./p/span[3]/text()"</span>)[<span class="number">0</span>]</span><br><span class="line">            <span class="comment"># 发布时间</span></span><br><span class="line">            jobTime = job.xpath(<span class="string">"./p/span[4]/text()"</span>)[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">            jobOrder = job.xpath(<span class="string">"./p[2]/text()"</span>)</span><br><span class="line">            print(jobName, jobUrl, jobAddr, jobMoney, jobTime)</span><br><span class="line">            <span class="comment"># print(jobOrder)</span></span><br><span class="line">            <span class="comment"># 岗位要求</span></span><br><span class="line">            jobOrderList = []</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> jobOrder:</span><br><span class="line">                jobOrderList.append((i.replace(<span class="string">"\r\n"</span>, <span class="string">''</span>).replace(<span class="string">"\t"</span>, <span class="string">''</span>).strip()))</span><br><span class="line">                <span class="comment"># print(i.strip().replace("\r\n", '').replace("\t", ''))</span></span><br><span class="line">            print(jobOrderList)</span><br><span class="line">            <span class="comment"># 岗位职责</span></span><br><span class="line">            jobRes = job.xpath(<span class="string">"./p[3]/text()"</span>)[<span class="number">0</span>].replace(<span class="string">"\r\n"</span>, <span class="string">''</span>).replace(<span class="string">"\t\t"</span>, <span class="string">''</span>).strip()</span><br><span class="line">            print(jobRes)</span><br><span class="line">            <span class="comment"># 写入文件</span></span><br><span class="line">            <span class="keyword">with</span> open(<span class="string">"51job.txt"</span>, <span class="string">'a+'</span>, encoding=<span class="string">'utf-8'</span>, errors=<span class="string">'ignore'</span>) <span class="keyword">as</span> f:</span><br><span class="line">                f.write(str((jobName, jobUrl, jobAddr, jobMoney, jobTime, jobOrderList, jobRes)) + <span class="string">'\n'</span>)</span><br><span class="line">                f.flush()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getPage</span><span class="params">(url)</span>:</span></span><br><span class="line">    <span class="string">'''</span></span><br><span class="line"><span class="string">    获取岗位页面数量</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    '''</span></span><br><span class="line">    <span class="comment"># url = "https://jobs.51job.com/xinjiang/"</span></span><br><span class="line">    respnse = requests.get(url, headers=header).content.decode(<span class="string">'GB18030'</span>)</span><br><span class="line">    myTree = lxml.etree.HTML(respnse)</span><br><span class="line">    pageNum = myTree.xpath(<span class="string">"//*[@id=\"cppageno\"]/span[1]/text()"</span>)[<span class="number">0</span>]</span><br><span class="line">    <span class="comment"># "共405页，到第"</span></span><br><span class="line">    numre = <span class="string">".*?(\d+).*"</span>  <span class="comment"># ?非贪婪模式</span></span><br><span class="line">    pageNum = int(re.findall(numre, pageNum)[<span class="number">0</span>])</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, pageNum + <span class="number">1</span>):</span><br><span class="line"></span><br><span class="line">        newUrl = <span class="string">"https://jobs.51job.com/beijing/p%d/"</span> % i</span><br><span class="line">        print(<span class="string">"\t\t\t"</span>, newUrl)</span><br><span class="line">        <span class="comment"># 获取岗位信息</span></span><br><span class="line">        getJobInfo(newUrl)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    getCityList()</span><br><span class="line">    <span class="comment"># getJobInfo()</span></span><br><span class="line">    <span class="comment"># getPage()</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>抓取上海市高级人民法院：<a href="http://www.hshfy.sh.cn/shfy/gweb2017/ktgg_search.jsp" target="_blank" rel="noopener">http://www.hshfy.sh.cn/shfy/gweb2017/ktgg_search.jsp</a>?</p>
</li>
<li><p><a href="http://www.hshfy.sh.cn/shfy/gweb2017/channel_xw_list.jsp?pa=abG1kbT1MTTA2MDImbG1tYz2wuMD90dDO9gPdcssPdcssz&amp;zd=spyj" target="_blank" rel="noopener">http://www.hshfy.sh.cn/shfy/gweb2017/channel_xw_list.jsp?pa=abG1kbT1MTTA2MDImbG1tYz2wuMD90dDO9gPdcssPdcssz&amp;zd=spyj</a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> lxml</span><br><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">11</span>):</span><br><span class="line"># 各大浏览器Http请求头</span><br><span class="line">    ua_list = [</span><br><span class="line">        <span class="string">"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/39.0.2171.95 Safari/537.36 OPR/26.0.1656.60"</span>,</span><br><span class="line">        <span class="string">"Opera/8.0 (Windows NT 5.1; U; en)"</span>,</span><br><span class="line">        <span class="string">"Mozilla/5.0 (Windows NT 5.1; U; en; rv:1.8.1) Gecko/20061208 Firefox/2.0.0 Opera 9.50"</span>,</span><br><span class="line">        <span class="string">"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; en) Opera 9.50"</span>,</span><br><span class="line">        <span class="string">"Mozilla/5.0 (Windows NT 6.1; WOW64; rv:34.0) Gecko/20100101 Firefox/34.0"</span>,</span><br><span class="line">        <span class="string">"Mozilla/5.0 (X11; U; Linux x86_64; zh-CN; rv:1.9.2.10) Gecko/20100922 Ubuntu/10.10 (maverick) Firefox/3.6.10"</span>,</span><br><span class="line">        <span class="string">"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/534.57.2 (KHTML, like Gecko) Version/5.1.7 Safari/534.57.2 "</span>,</span><br><span class="line">        <span class="string">"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/39.0.2171.71 Safari/537.36"</span>,</span><br><span class="line">        <span class="string">"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.11 (KHTML, like Gecko) Chrome/23.0.1271.64 Safari/537.11"</span>,</span><br><span class="line">        <span class="string">"Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US) AppleWebKit/534.16 (KHTML, like Gecko) Chrome/10.0.648.133 Safari/534.16"</span>,</span><br><span class="line">        <span class="string">"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/30.0.1599.101 Safari/537.36"</span>,</span><br><span class="line">        <span class="string">"Mozilla/5.0 (Windows NT 6.1; WOW64; Trident/7.0; rv:11.0) like Gecko"</span>,</span><br><span class="line">        <span class="string">"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/536.11 (KHTML, like Gecko) Chrome/20.0.1132.11 TaoBrowser/2.0 Safari/536.11"</span>,</span><br><span class="line">        <span class="string">"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.1 (KHTML, like Gecko) Chrome/21.0.1180.71 Safari/537.1 LBBROWSER"</span>,</span><br><span class="line">        <span class="string">"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; .NET4.0C; .NET4.0E; LBBROWSER)"</span>,</span><br><span class="line">        <span class="string">"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; QQDownload 732; .NET4.0C; .NET4.0E; LBBROWSER)"</span>,</span><br><span class="line">        <span class="string">"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; .NET4.0C; .NET4.0E; QQBrowser/7.0.3698.400)"</span>,</span><br><span class="line">        <span class="string">"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; QQDownload 732; .NET4.0C; .NET4.0E)"</span>,</span><br><span class="line">        <span class="string">"Mozilla/5.0 (Windows NT 5.1) AppleWebKit/535.11 (KHTML, like Gecko) Chrome/17.0.963.84 Safari/535.11 SE 2.X MetaSr 1.0"</span>,</span><br><span class="line">        <span class="string">"Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1; Trident/4.0; SV1; QQDownload 732; .NET4.0C; .NET4.0E; SE 2.X MetaSr 1.0)"</span>,</span><br><span class="line">    ]</span><br><span class="line"></span><br><span class="line">    header = &#123;<span class="string">"User-Agent"</span>: random.choice(ua_list)&#125;</span><br><span class="line"></span><br><span class="line">    httpProxy = [</span><br><span class="line">        &#123;<span class="string">"http"</span>: <span class="string">"61.135.217.7:80"</span>&#125;</span><br><span class="line">    ]</span><br><span class="line"></span><br><span class="line">    data = &#123;</span><br><span class="line">        <span class="string">"yzm"</span>: <span class="string">"k5b2"</span>,</span><br><span class="line">        <span class="string">"ft"</span>: <span class="string">""</span>,</span><br><span class="line">        <span class="string">"ktrqks"</span>: <span class="string">"2018-05-31"</span>,</span><br><span class="line">        <span class="string">"ktrqjs"</span>: <span class="string">"2018-06-30"</span>,</span><br><span class="line">        <span class="string">"spc"</span>: <span class="string">""</span>,</span><br><span class="line">        <span class="string">"yg"</span>: <span class="string">""</span>,</span><br><span class="line">        <span class="string">"bg"</span>: <span class="string">""</span>,</span><br><span class="line">        <span class="string">"ah"</span>: <span class="string">""</span>,</span><br><span class="line">        <span class="string">"pagesnum"</span>: str(i),</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    url = <span class="string">"http://www.hshfy.sh.cn/shfy/gweb2017/ktgg_search_content.jsp"</span></span><br><span class="line"></span><br><span class="line">    response = requests.post(url, headers=header, data=data)    # proxies=random.choice(httpProxy)</span><br><span class="line">    if response.status_code == 200:     # 响应为200则抓取</span><br><span class="line">        html = response.text</span><br><span class="line">        # print(html)</span><br><span class="line">        myTree = lxml.etree.HTML(html)</span><br><span class="line">        # position过滤</span><br><span class="line">        report = myTree.xpath(<span class="string">"//*[@id='report']/tbody/tr[position()&gt;1]"</span>)</span><br><span class="line">        # print(report)</span><br><span class="line">        <span class="keyword">for</span> t <span class="keyword">in</span> report:</span><br><span class="line">            name = t.xpath(<span class="string">"./td[1]/font/text()"</span>)[<span class="number">0</span>].replace(<span class="string">"\xa0"</span>, <span class="string">''</span>)</span><br><span class="line">            home = t.xpath(<span class="string">"./td[2]/font/text()"</span>)[<span class="number">0</span>].replace(<span class="string">"\xa0"</span>, <span class="string">''</span>)</span><br><span class="line">            time = t.xpath(<span class="string">"./td[3]/text()"</span>)[<span class="number">0</span>]</span><br><span class="line">            num = t.xpath(<span class="string">"./td[4]/text()"</span>)[<span class="number">0</span>]</span><br><span class="line">            brief = t.xpath(<span class="string">"./td[5]/text()"</span>)[<span class="number">0</span>].replace(<span class="string">"\xa0"</span>, <span class="string">''</span>)</span><br><span class="line">            section = t.xpath(<span class="string">"./td[6]/div/text()"</span>)[<span class="number">0</span>]</span><br><span class="line">            judge = t.xpath(<span class="string">"./td[7]/div/text()"</span>)[<span class="number">0</span>]</span><br><span class="line">            plaintiff = t.xpath(<span class="string">"./td[8]/text()"</span>)[<span class="number">0</span>]</span><br><span class="line">            defendant = t.xpath(<span class="string">"./td[9]/text()"</span>)[<span class="number">0</span>]</span><br><span class="line">            print(name, home, time, num, brief, section, judge, plaintiff, defendant)</span><br><span class="line">            <span class="keyword">with</span> open(<span class="string">"court.txt"</span>, <span class="string">'a+'</span>, encoding=<span class="string">'utf-8'</span>, errors=<span class="string">'ignore'</span>) <span class="keyword">as</span> f:</span><br><span class="line">                f.write(str((name, home, time, num, brief, section, judge, plaintiff, defendant)) + <span class="string">'\n'</span>)</span><br><span class="line">                f.flush()</span><br></pre></td></tr></table></figure></li>
</ul>
  </article>
  <aside class="table-content" id="site-toc">
  <div class="table-content-title">
    <i class="fa fa-arrow-right fa-lg" id="site-toc-hide-btn"></i>
    <span>目录</span>
  </div>
  <div class="table-content-main">
    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#XPath"><span class="toc-text">XPath</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#什么是-XPath"><span class="toc-text">什么是 XPath?</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#使用xpath"><span class="toc-text">使用xpath</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#XPath-Helper插件"><span class="toc-text">XPath Helper插件</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#XPath-术语"><span class="toc-text">XPath 术语</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#节点（Node）"><span class="toc-text">节点（Node）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#基本值（或称原子值，Atomic-value）"><span class="toc-text">基本值（或称原子值，Atomic value）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#项目（Item）"><span class="toc-text">项目（Item）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#节点关系"><span class="toc-text">节点关系</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#父（Parent）"><span class="toc-text">父（Parent）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#子（Children）"><span class="toc-text">子（Children）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#同胞（Sibling）"><span class="toc-text">同胞（Sibling）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#先辈（Ancestor）"><span class="toc-text">先辈（Ancestor）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#后代（Descendant）"><span class="toc-text">后代（Descendant）</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#XPath-语法"><span class="toc-text">XPath 语法</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#选取节点"><span class="toc-text">选取节点</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#谓语（Predicates）"><span class="toc-text">谓语（Predicates）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#选取未知节点"><span class="toc-text">选取未知节点</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#选取若干路径"><span class="toc-text">选取若干路径</span></a></li></ol></li></ol>
  </div>
</aside>
  
    <div class="passage-tags">
     
      <a href="/tags/爬虫/"><i class="fa fa-tags"></i>爬虫</a>
     
      <a href="/tags/xpath/"><i class="fa fa-tags"></i>xpath</a>
    
    </div>
  
</div>

    </main>
    
      <div class="site-comment-contanier">
  <p id="site-comment-info">
    <i class="fa fa-spinner fa-spin"></i> 评论加载中
  </p>
  <div id="site-comment">
  </div>
</div>
    
    <div class="site-footer-wrapper">
  <footer class="site-footer">
    
      <div class="site-footer-col">
        <h5 class="site-footer-title">站点推荐</h5>
        
          <span class="site-footer-item">
            <a href="https://lidx.club/" target="_blank">GaryMarine</a>
          </span>
        
          <span class="site-footer-item">
            <a href="http://ruanyifeng.com/" target="_blank">阮一峰的个人网站</a>
          </span>
        
          <span class="site-footer-item">
            <a href="https://www.liaoxuefeng.com/" target="_blank">廖雪峰的官方网站</a>
          </span>
        
      </div>
    
      <div class="site-footer-col">
        <h5 class="site-footer-title">实验室</h5>
        
          <span class="site-footer-item">
            <a href="https://github.com/dongyuanxin/music-api-next" target="_blank">Music API</a>
          </span>
        
          <span class="site-footer-item">
            <a href="https://github.com/dongyuanxin/webpack-demos" target="_blank">Webpack4 Demos</a>
          </span>
        
          <span class="site-footer-item">
            <a href="https://github.com/dongyuanxin/theme-bmw" target="_blank">Theme bmw</a>
          </span>
        
      </div>
    
      <div class="site-footer-col">
        <h5 class="site-footer-title">抓到我</h5>
        
          <span class="site-footer-item">
            <a href="https://music.163.com/#/my/m/music/playlist?id=385505488" target="_blank">音乐</a>
          </span>
        
          <span class="site-footer-item">
            <a href="https://www.zhihu.com/people/gu-hu-31-87/activities" target="_blank">知乎</a>
          </span>
        
          <span class="site-footer-item">
            <a href="https://weibo.com/5092313013/profile?rightmod=1&wvr=6&mod=personinfo&is_all=1" target="_blank">微博</a>
          </span>
        
      </div>
    
    <div class="site-footer-info">
      <i class="fa fa-clock-o"></i> 本站已稳定运行<span id="site-time"></span>
    </div>
    
      <div class="site-footer-info">
        <i class="fa fa-paw"></i> 您是本站第 <span id="site-count"></span> 位访客
      </div>
    
    <div class="site-footer-info">
      <i class="fa fa-at"></i> Email: yuanxin.me@gmail.com. QQ群: 534018786(主题交流)
    </div>
    <div class="site-footer-info">
      <i class="fa fa-copyright"></i> 
      2019 <a href="https://github.com/dongyuanxin/theme-ad/" target="_blank">Theme-AD</a>.
      Created by <a href="https:/godbmw.com/" target="_blank">GodBMW</a>.
      All rights reserved.
    </div>
  </footer>
</div>
    <div id="site-layer" style="display:none;">
  <div class="site-layer-content">
    <div class="site-layer-header">
      <span class="site-layer-header-title" id="site-layer-title"></span>
      <i class="fa fa-close" id="site-layer-close"></i>
    </div>
    <div class="site-layer-body" id="site-layer-container">
      <div class="site-layer-input" id="site-layer-search" style="display: none;">
        <input type="text">
        <i class="fa fa-search"></i>
      </div>
      <div class="site-layer-reward" id="site-layer-reward" style="display: none;">
        
          <div>
            <img src="/images/wechat.png" alt="WeChat">
            
              <p>WeChat</p>
            
          </div>
        
          <div>
            <img src="/images/alipay.png" alt="AliPay">
            
              <p>AliPay</p>
            
          </div>
        
      </div>
      <div id="site-layer-welcome" style="display:none;"></div>
    </div>
  </div>
</div>
    

<div class="bottom-bar">
  <div class="bottom-bar-left">
    <a href="/2017/06/28/线程和协程/" data-enable="true">
      <i class="fa fa-arrow-left"></i>
    </a>
    <a href="/2017/06/26/爬虫抓取策略/" data-enable="true">
      <i class="fa fa-arrow-right"></i>
    </a>
  </div>
  <div class="bottom-bar-right">
    <a href="javascript:void(0);" data-enable="true" id="site-toc-show-btn">
      <i class="fa fa-bars"></i>
    </a>
    
      <a href="#site-comment" data-enable="true">
        <i class="fa fa-commenting"></i>
      </a>
    
    <a href="javascript:void(0);" id="site-toggle-share-btn">
      <i class="fa fa-share-alt"></i>
    </a>
    <a href="javascript:void(0);" id="site-reward">
      <i class="fa fa-thumbs-up"></i>
    </a>
    <a href="javascript:void(0);" id="back-top-btn">
      <i class="fa fa-chevron-up"></i>
    </a>
  </div>
</div>
    <div id="share-btn">
  
    <a id="share-btn-twitter" href="javascript:void(0);" target="_blank">
      <i class="fa fa-twitter"></i>
    </a>
  
  
    <a id="share-btn-facebook" href="javascript:void(0);" target="_blank">
      <i class="fa fa-facebook"></i>
    </a>
  
  
    <a id="share-btn-weibo" href="javascript:void(0);" target="_blank">
      <i class="fa fa-weibo"></i>
    </a>
  
  
    <a id="share-btn-qq" href="javascript:void(0);" target="_blank">
      <i class="fa fa-qq"></i>
    </a>
  
  
    <a id="share-btn-wechat" href="javascript:void(0);" target="_blank">
      <i class="fa fa-wechat"></i>
    </a>
  
</div>
  <script src="/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({"model":{"jsonPath":"/live2dw/assets/miku.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>